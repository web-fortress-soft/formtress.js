<script>        
    // Add an event listener to handle formtress:info events
    document.addEventListener('formtress:info', (message) => {
        // Handle the info (e.g., display a message to the user, log it, etc.)
        console.info('Formtress Info:', message.detail.message);
    });
    // Add an event listener to handle formtress:warning events
    document.addEventListener('formtress:warning', (message) => {
        // Handle the warning (e.g., display a message to the user, log it, etc.)
        console.warn('Formtress Warning:', message);
    });
    // Add an event listener to handle formtress:error events
    document.addEventListener('formtress:error', (message, error) => {
        const errorInfo = event.detail.error;
        // Handle the error (e.g., display a message to the user, log it, etc.)
        console.error('Formtress Error:', message, errorInfo);
    });

    // Define the global configuration object early in the application's lifecycle
    // this must be done before Formtress is initialized or all other scripts, Formtress will ignor if tampered
    window.FormtressConfig = Object.freeze({
        security: {
            patterns: {
                xss: {
                    enabled: true,
                    patterns: [
                        /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi.source,
                        /javascript:/gi.source,
                        /data:/gi.source,
                        /vbscript:/gi.source,
                        /on\w+\s*=/gi.source,
                        /<\s*iframe/gi.source,
                        /<\s*object/gi.source,
                        /<\s*embed/gi.source,
                        /expression\s*\(/gi.source,
                        /url\s*\(/gi.source,
                        /eval\s*\(/gi.source
                    ],
                    description: 'XSS attempt detected'
                },
            },
            validation: {
                email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/.source,
                phone: /^\+?[\d\s-]{10,}$/.source,
                url: /^https?:\/\/[\w\-.]+(:\d+)?([\/\w\-._~:/?#[\]@!$&'()*+,;=]*)?$/.source,
                alphanumeric: /^[a-zA-Z0-9]*$/.source,
                numbers: /^[0-9]*$/.source,
                date: /^\d{4}-\d{2}-\d{2}$/.source
            },
            rateLimit: {
                enabled: true,
                window: 1000,
                max: 30,
                windowMs: 60000
            },
            feedback: {
                showSuccess: true,
                showError: true,
                successSymbol: '✓',
                errorSymbol: '✗',
                successColor: '#4CAF50',
                errorColor: '#ff4444',
                customStyles: null
            },
            accessibility: {
                ariaLive: 'polite',
                useAriaInvalid: true,
                useAriaDescribedBy: true
            },
            csrf: {
                enabled: false,
                fieldName: '_csrf',
                validateOnSubmit: true
            },
            hooks: {
                beforeValidation: null,
                afterValidation: null,
                beforeSubmit: null,
                afterSubmit: null,
                onError: null
            }
        }
    });
</script>